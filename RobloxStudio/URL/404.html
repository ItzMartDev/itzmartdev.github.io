<!doctype html>
<html lang="pt-br">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JSON Fetcher (404 router)</title>
</head>
<body>
  <!-- Reaproveita exatamente o mesmo app do index -->
  <script>
    // Carrega o index inline para reduzir duplicação
    fetch(window.location.origin + '/index.html')
      .then(r => r.text())
      .then(html => {
        // Remove DOCTYPE e head duplicados se existirem
        const start = html.indexOf('<body');
        const bodyStart = start === -1 ? 0 : html.indexOf('>', start) + 1;
        const end = html.lastIndexOf('</body>');
        const bodyHtml = end === -1 ? html : html.slice(bodyStart, end);
        document.body.innerHTML = bodyHtml;
        // Reexecutar scripts embutidos do index
        const scripts = Array.from(document.querySelectorAll('script'));
        scripts.forEach(old => {
          const s = document.createElement('script');
          if (old.src) s.src = old.src;
          else s.textContent = old.textContent;
          document.body.appendChild(s);
          old.remove();
        });
      })
      .catch(() => {
        document.body.innerHTML = '<pre>404 — Página não encontrada. E não foi possível carregar o app.</pre>';
      });
  </script>
</body>
</html>
